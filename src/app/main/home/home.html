<app-top-navigator> </app-top-navigator>

<!-- Hero Section -->
<section class="home-hero">
  <div class="home-hero-content">
    <h1 class="home-hero-title">
      <span class="brand-name">PLANTCARE</span>
      <span class="hero-subtitle">Nền tảng hỗ trợ chăm sóc cây</span>
    </h1>
    <p class="home-hero-desc">
      Khám phá, chăm sóc và kết nối cộng đồng yêu cây cảnh. <br>Tất cả trên 1 nền tảng!
    </p>
    <div class="home-hero-cta">
  <button *ngIf="!jwtUserUtil.isLoggedIn()" (click)="onConnectExpertClick()" class="cta-btn cta-animate">Đăng nhập</button>
  <button *ngIf="jwtUserUtil.isLoggedIn()" (click)="goToCareExpert()" class="cta-btn cta-vip-btn">Tính năng nâng cao</button>
    </div>
  </div>
  <div class="home-hero-image">
    <img [ngSrc]="'assets/image/1.png'" width="520" height="294" alt="PlantCare Hero" />
  </div>
</section>

<!-- Promo Banner Section -->
<section class="home-promo-banner" style="width:100%; background:#f5f5f5; display:flex; justify-content:center; align-items:center; padding:0; margin:0;">
  <div class="banner-slider">
  <div *ngFor="let slide of bannerSlides; let i = index" class="banner-slide" [class.active]="currentBanner === i" [style.zIndex]="currentBanner === i ? 2 : 1">
      <img [src]="slide.image" alt="PlantCare Banner" />
      <div class="banner-content">
        <h2 class="banner-title" [class.animate-in]="currentBanner === i">{{slide.title}}</h2>
        <p class="banner-desc" [class.animate-in]="currentBanner === i">{{slide.desc}}</p>
  <button *ngIf="slide.cta" class="banner-cta" [class.animate-in]="currentBanner === i" (click)="slide.ctaAction()">{{slide.cta}}</button>
      </div>
    </div>
    <div class="slider-dots">
  <span *ngFor="let dot of bannerSlides; let d = index" class="slider-dot" [class.active]="currentBanner === d" (click)="currentBanner = d"></span>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="home-features">
  <div class="features-wrapper">
    <div class="features-header">
      <span class="features-badge">Tính năng</span>
      <h2 class="features-title">Khám phá tính năng nổi bật</h2>
      <p class="features-description">Những công cụ mạnh mẽ giúp bạn chăm sóc cây cảnh hiệu quả</p>
    </div>
    
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-search"></i>
        </div>
        <div class="feature-content">
          <h3>Tìm kiếm & Khám phá</h3>
          <p>Tra cứu thông tin về hàng trăm loại cây cảnh với hình ảnh và đặc điểm sống động</p>
        </div>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-seedling"></i>
        </div>
        <div class="feature-content">
          <h3>Khu vườn cá nhân</h3>
          <p>Quản lý bộ sưu tập cây của bạn, <br>theo dõi tình trạng và ghi chú chi tiết từng cây</p>
        </div>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-bell"></i>
        </div>
        <div class="feature-content">
          <h3>Nhắc nhở thông minh</h3>
          <p>Thiết lập lịch chăm sóc tự động <br>và nhận thông báo đúng thời điểm</p>
        </div>
      </div>
      
    </div>
    
    <div class="features-action">
      <button *ngIf="!jwtUserUtil.isLoggedIn()" (click)="onConnectExpertClick()" class="cta-button">
        Khám phá ngay
        <i class="fas fa-arrow-right"></i>
      </button>
      <button *ngIf="jwtUserUtil.isLoggedIn()" (click)="goToCareExpert()" class="cta-button">
        Bắt đầu sử dụng
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>
</section>

<!-- How it works Section -->
<section class="home-how-it-works">
  <h2>Cách PlantCare hoạt động</h2>
  <div class="how-steps">
    <div class="how-step">
      <span class="how-step-number">1</span>
      <div>
        <h4>Đăng ký tài khoản</h4>
        <p>Tạo tài khoản miễn phí để bắt đầu hành trình chăm sóc cây của bạn.</p>
      </div>
    </div>
    <div class="how-step">
      <span class="how-step-number">2</span>
      <div>
        <h4>Thêm cây vào vườn</h4>
        <p>Chọn cây từ thư viện hoặc tự thêm cây mới vào bộ sưu tập cá nhân.</p>
      </div>
    </div>
    <div class="how-step">
      <span class="how-step-number">3</span>
      <div>
        <h4>Thiết lập nhắc nhở</h4>
        <p>Cài đặt lịch chăm sóc phù hợp cho từng cây.</p>
      </div>
    </div>
    <div class="how-step">
      <span class="how-step-number">4</span>
      <div>
        <h4>Kết nối chuyên gia & cộng đồng</h4>
        <p>Nhận tư vấn, chia sẻ và học hỏi kinh nghiệm từ chuyên gia và người dùng khác.</p>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="home-testimonials">
  <h2 class="testimonials-title">Cảm nhận từ người dùng</h2>
  
  <div class="testimonials-carousel">
    <div class="carousel-container">
      <div class="carousel-track" [style.transform]="'translateX(' + (-currentSlide * 100) + '%)'">
        <!-- Slide 1 -->
        <div class="carousel-slide">
          <div class="testimonials-grid">
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"PlantCare giúp tôi chăm sóc khu vườn của mình dễ dàng hơn rất nhiều. <br>Nhắc nhở tưới nước cực kỳ tiện lợi!"</p>
                <span class="testimonial-user">- Minh, Hà Nội</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Tôi rất thích tính năng hỏi đáp với chuyên gia, mọi thắc mắc về cây đều được giải đáp nhanh chóng."</p>
                <span class="testimonial-user">- Lan, Hà Nội</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Giao diện đẹp, dễ dùng, cộng đồng thân thiện.<br>Tôi đã học hỏi được rất nhiều kinh nghiệm chăm cây."</p>
                <span class="testimonial-user">- Hùng, Hà Nội</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-slide">
          <div class="testimonials-grid">
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Nhờ PlantCare mà cây cảnh nhà tôi luôn xanh tốt. <br>Nhắc nhở chăm sóc đúng lịch thật sự rất hữu ích!"</p>
                <span class="testimonial-user">- Mai, Hải Phòng</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Lần đầu tiên tôi thấy một ứng dụng chăm sóc cây chuyên nghiệp đến vậy. <br>Thực sự đáng để sử dụng!"</p>
                <span class="testimonial-user">- Tuấn, Quảng Ninh</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Tính năng nhận diện cây bệnh rất hay, giúp tôi phát hiện và xử lý kịp thời. <br>Cảm ơn PlantCare!"</p>
                <span class="testimonial-user">- Thảo, Thái Nguyên</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 3 -->
        <div class="carousel-slide">
          <div class="testimonials-grid">
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Cộng đồng PlantCare rất nhiệt tình, mọi người chia sẻ kinh nghiệm rất bổ ích. <br>Tôi học được rất nhiều!"</p>
                <span class="testimonial-user">- Nam, Bắc Ninh</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Nhắc nhở tưới nước và bón phân đúng lịch giúp cây nhà tôi phát triển tốt hơn hẳn. <br>Thật sự rất hài lòng!"</p>
                <span class="testimonial-user">- Linh, Hưng Yên</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Giao diện đơn giản, dễ sử dụng, phù hợp với mọi lứa tuổi. <br>Tôi đã giới thiệu cho cả gia đình!"</p>
                <span class="testimonial-user">- Phương, Vĩnh Phúc</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 4 -->
        <div class="carousel-slide">
          <div class="testimonials-grid">
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Tính năng chat với chuyên gia rất tiện lợi, mọi câu hỏi đều được trả lời chi tiết. <br>Rất hài lòng!"</p>
                <span class="testimonial-user">- Đức, Hà Nam</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Nhờ PlantCare mà tôi biết cách chăm sóc từng loại cây cụ thể. <br>Kiến thức rất thực tế và hữu ích!"</p>
                <span class="testimonial-user">- Hương, Nam Định</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Ứng dụng giúp tôi theo dõi sự phát triển của cây một cách khoa học. <br>Thật sự rất chuyên nghiệp!"</p>
                <span class="testimonial-user">- Sơn, Lào Cai</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 5 -->
        <div class="carousel-slide">
          <div class="testimonials-grid">
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Cảm ơn PlantCare đã giúp tôi có một khu vườn đẹp. <br>Nhắc nhở chăm sóc đúng giờ thật sự rất quan trọng!"</p>
                <span class="testimonial-user">- Trang, Yên Bái</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Tính năng lưu trữ thông tin cây rất tiện lợi, giúp tôi quản lý vườn hiệu quả hơn. <br>Thật sự rất hữu ích!"</p>
                <span class="testimonial-user">- Long, Tuyên Quang</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"PlantCare giúp tôi hiểu rõ hơn về nhu cầu của từng loại cây. <br>Chăm sóc cây giờ đây thật dễ dàng!"</p>
                <span class="testimonial-user">- Nga, Phú Thọ</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 6 -->
        <div class="carousel-slide">
          <div class="testimonials-grid">
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Cộng đồng người dùng rất thân thiện và nhiệt tình. <br>Tôi đã kết nối được với nhiều người có cùng sở thích!"</p>
                <span class="testimonial-user">- Hoàng, Bắc Giang</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Nhắc nhở thông minh giúp tôi không bao giờ quên chăm sóc cây. <br>Thật sự rất tiện lợi!"</p>
                <span class="testimonial-user">- Dung, Lạng Sơn</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Tính năng theo dõi lịch sử chăm sóc rất hay, giúp tôi đánh giá hiệu quả. <br>Rất hài lòng với ứng dụng!"</p>
                <span class="testimonial-user">- Vinh, Cao Bằng</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 7 -->
        <div class="carousel-slide">
          <div class="testimonials-grid">
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"PlantCare đã thay đổi hoàn toàn cách tôi chăm sóc cây cảnh. <br>Giờ đây mọi thứ đều có hệ thống!"</p>
                <span class="testimonial-user">- Hà, Hòa Bình</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Ứng dụng giúp tôi tiết kiệm thời gian chăm sóc cây rất nhiều. <br>Thật sự rất đáng để sử dụng!"</p>
                <span class="testimonial-user">- Quân, Sơn La</span>
              </div>
            </div>
            <div class="testimonial-item">
              <div class="testimonial-content">
                <p>"Cảm ơn PlantCare đã mang đến trải nghiệm chăm sóc cây tuyệt vời. <br>Tôi sẽ giới thiệu cho bạn bè!"</p>
                <span class="testimonial-user">- My, Điện Biên</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation Controls -->
    <div class="carousel-controls">
      <button class="carousel-btn prev-btn" (click)="previousTestimonial()" [disabled]="currentSlide === 0">
        <i class="fas fa-chevron-left"></i>
      </button>
      
      <div class="carousel-dots">
        <span 
          *ngFor="let slide of getTestimonialSlides(); let i = index" 
          class="carousel-dot" 
          [class.active]="i === currentSlide"
          (click)="goToTestimonialSlide(i)">
        </span>
      </div>
      
      <button class="carousel-btn next-btn" (click)="nextTestimonial()" [disabled]="currentSlide === 6">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
</section>

<!-- Articles Section -->
<section class="home-articles" *ngIf="articles && articles.length > 0">
  <div class="articles-header">
    <h2 class="articles-title">THÔNG TIN & BLOG</h2>
    <p class="articles-subtitle">Khám phá kiến thức chăm sóc cây cảnh từ chuyên gia</p>
  </div>
  
  <div class="articles-container">
    <div class="articles-grid">
      <div *ngFor="let article of getCurrentPageArticles(); let i = index" class="article-card" [class.article-card-1]="i === 0" [class.article-card-2]="i === 1" [class.article-card-3]="i === 2">
        <div class="article-image-container">
          <div class="article-image-wrapper">
            <img [src]="article.imageUrl || 'assets/image/banner_blog.jpg'" [alt]="article.title" class="article-image" (error)="onArticleImageError($event, i)" />
            <div *ngIf="articleImageError && articleImageError[i]" class="article-image-error-overlay">
              <i class="fas fa-image-broken"></i>
              <span>Ảnh không tồn tại</span>
            </div>
            <div class="article-overlay">
              <div class="article-overlay-content">
                <span class="read-more-icon">→</span>
              </div>
            </div>
          </div>
          <div class="article-category-badge">
            <span class="category-tag">{{ article.categoryName || 'PHONG THỦY' }}</span>
          </div>
        </div>
        
        <div class="article-content">
          <div class="article-meta">
            <span class="article-date">{{ article.createdDate ? (article.createdDate | date:'dd/MM/yyyy') : '15/01/2025' }}</span>
            <span class="article-read-time">5 phút đọc</span>
          </div>
          
          <h3 class="article-title">{{ article.title }}</h3>
          <p class="article-excerpt">{{ getExcerptNoHash(article.excerpt) }}</p>
          
          <div class="article-footer">
            <button class="article-read-more-btn" (click)="goToArticleDetail(article.id)">
              <span>Đọc thêm</span>
              <i class="fas fa-arrow-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Articles Navigation -->
    <div class="articles-navigation" *ngIf="articles.length > 3">
      <div class="nav-info">
        <span class="current-page-info">
          Trang {{ currentPage + 1 }} / {{ getTotalPages() }}
        </span>
        <span class="articles-count">
          {{ articles.length }} bài viết
        </span>
      </div>
      
      <div class="nav-controls">
        <button 
          class="nav-btn nav-prev" 
          [disabled]="currentPage === 0"
          (click)="previousPage()"
          [class.disabled]="currentPage === 0">
          <i class="fas fa-chevron-left"></i>
          <span>Trước</span>
        </button>
        
        <div class="page-dots">
          <span 
            *ngFor="let page of getPageNumbers(); let i = index" 
            class="page-dot" 
            [class.active]="i === currentPage"
            (click)="goToPage(i)">
          </span>
        </div>
        
        <button 
          class="nav-btn nav-next" 
          [disabled]="currentPage === getTotalPages() - 1"
          (click)="nextPage()"
          [class.disabled]="currentPage === getTotalPages() - 1">
          <span>Sau</span>
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>
  </div>
  
  <div class="articles-cta">
    <div class="cta-content">
      <div class="cta-text">
        <h3>Khám phá thêm kiến thức</h3>
        <p>Hơn 100+ bài viết chuyên sâu về chăm sóc cây cảnh</p>
      </div>
      <button class="view-all-articles-btn" (click)="goToAllArticles()">
        <span>Xem tất cả bài viết</span>
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>
</section>

<!-- Call to Action Section -->
<!-- VIP Features Section -->
<section class="home-vip-features">
  <div class="vip-banner">
    <div class="vip-badge">🌟 VIP</div>
    <h2>Tính năng độc quyền cho thành viên VIP</h2>
    <p>Nâng cấp tài khoản để trải nghiệm các tính năng cao cấp</p>
    
    <div class="vip-features-grid">
      <div class="vip-feature">
        <div class="vip-feature-icon">💬</div>
        <h4>Chat VIP Cộng đồng</h4>
        <p>Tham gia phòng chat VIP với cộng đồng thành viên cao cấp và chuyên gia</p>
      </div>
      
      <div class="vip-feature">
        <div class="vip-feature-icon">🤖</div>
        <h4>AI Nhận diện cây</h4>
        <p>Sử dụng AI tiên tiến để nhận diện chính xác loại cây từ hình ảnh</p>
      </div>
      
      <div class="vip-feature">
        <div class="vip-feature-icon">🔬</div>
        <h4>Phát hiện bệnh cây</h4>
        <p>Phân tích và chẩn đoán bệnh cây với AI, kèm hướng dẫn điều trị chi tiết</p>
      </div>
      
    </div>
    
    <div class="vip-pricing">
      <div class="pricing-info">
        <span class="price">Chỉ từ 100.000đ/tháng</span>
        <span class="discount">Tiết kiệm 25% với gói năm</span>
      </div>
    </div>
    
    <button *ngIf="jwtUserUtil.isLoggedIn()" class="vip-upgrade-btn" (click)="goToVipUpgrade()">
      Nâng cấp VIP ngay
    </button>
    <button *ngIf="!jwtUserUtil.isLoggedIn()" class="vip-upgrade-btn" (click)="onConnectExpertClick()">
      Đăng nhập để nâng cấp VIP
    </button>
  </div>
</section>

<section class="home-cta-final">
  <div class="cta-final-callout">
    <i class="fas fa-leaf"></i>
    <div>
      <h2>Bắt đầu hành trình chăm cây của bạn ngay hôm nay!</h2>
      <p>Khám phá các tính năng, kết nối cộng đồng và nhận tư vấn miễn phí từ chuyên gia PlantCare.</p>
    </div>
  </div>
</section>
<!-- Partners/Sponsors Section -->
<section class="home-partners">
  <h2 class="partners-title">Đối tác & Nhà tài trợ</h2>
  <div class="partners-list">
    <img src="assets/image/FPTU.png" alt="FPT University" title="FPT University" width="200" height="200" />
  </div>
</section>


