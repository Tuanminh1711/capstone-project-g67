<app-top-navigator></app-top-navigator>
<div class="garden-collection">
  <h2 class="collection-title">KHU VƯỜN CỦA TÔI</h2>
  <div class="layout-switcher">
    <button [class.active]="layout==='grid'" (click)="layout='grid'">BẢNG</button>
    <button [class.active]="layout==='list'" (click)="layout='list'">DANH SÁCH</button>
  </div>
  <div class="filter-switcher">
    <button [class.active]="filter==='all'" (click)="filter='all'">TẤT CẢ</button>
    <button [class.active]="filter==='indoor'" (click)="filter='indoor'">TRONG NHÀ</button>
    <button [class.active]="filter==='outdoor'" (click)="filter='outdoor'">NGOÀI TRỜI</button>
  </div>
  <div *ngIf="!apiError; else emptyList">
    <div *ngIf="plants.length; else emptyList">
      <div *ngIf="layout==='grid'">
        <div class="plant-list">
          <div class="plant-card" *ngFor="let plant of filteredPlants">
            <div class="plant-image">
              <img [src]="plant.image" [alt]="plant.name" />
            </div>
            <div class="plant-info">
              <div class="plant-row plant-row-title">
                <h3>{{ plant.name }}</h3>
              </div>
              <div class="plant-row plant-row-desc">
                <p *ngIf="plant.description">{{ plant.description }}</p>
              </div>
              <div class="plant-row plant-row-tags">
                <div class="plant-tags" *ngIf="plant.tags?.length">
                  <span class="plant-tag" *ngFor="let tag of plant.tags">{{ tag }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="layout==='list'">
        <div class="plant-list-listview">
          <div class="plant-list-item" *ngFor="let plant of filteredPlants">
            <div class="plant-list-img">
              <img [src]="plant.image" [alt]="plant.name" />
            </div>
            <div class="plant-list-info">
              <div class="plant-row plant-row-title">
                <h3>{{ plant.name }}</h3>
              </div>
              <div class="plant-row plant-row-desc">
                <p *ngIf="plant.description">{{ plant.description }}</p>
              </div>
              <div class="plant-row plant-row-tags">
                <div class="plant-tags" *ngIf="plant.tags?.length">
                  <span class="plant-tag" *ngFor="let tag of plant.tags">{{ tag }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #emptyList>
    <div class="empty-list">Không có cây nào trong bộ sưu tập của bạn.</div>
  </ng-template>
</div>
