<div class="admin-create-account-container">
  <h2>Tạo tài khoản mới</h2>
  <form (ngSubmit)="onSubmit()" autocomplete="off">
    <div class="form-group">
      <label>Tên đăng nhập</label>
      <input type="text" [(ngModel)]="username" name="username" required />
    </div>
    <div class="form-group password-group">
      <label>Mật khẩu</label>
      <div class="password-input-wrapper">
        <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password" name="password" required (ngModelChange)="checkPasswordsMatch()" />
        @if (password) {
          <button type="button" (click)="showPassword = !showPassword" class="toggle-password-icon no-border" tabindex="-1" [attr.aria-label]="showPassword ? 'Ẩn mật khẩu' : 'Hiện mật khẩu'">
            @if (!showPassword) {
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24" style="opacity:0.6;">
                <path stroke="#888" stroke-width="2" d="M12 5c-7 0-9 7-9 7s2 7 9 7 9-7 9-7-2-7-9-7Z"/>
                <circle cx="12" cy="12" r="3" stroke="#888" stroke-width="2"/>
              </svg>
            } @else {
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24" style="opacity:0.6;">
                <path stroke="#888" stroke-width="2" d="M3 3l18 18"/>
                <path stroke="#888" stroke-width="2" d="M12 5c-7 0-9 7-9 7s2 7 9 7c2.1 0 4.02-.6 5.67-1.54"/>
                <path stroke="#888" stroke-width="2" d="M21 12s-2-7-9-7"/>
                <circle cx="12" cy="12" r="3" stroke="#888" stroke-width="2"/>
              </svg>
            }
          </button>
        }
      </div>
    </div>
    <div class="form-group">
      <label>Họ tên</label>
      <input type="text" [(ngModel)]="fullName" name="fullName" required />
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="email" [(ngModel)]="email" name="email" required />
    </div>
    <div class="form-group">
      <label>Số điện thoại</label>
      <input type="text" [(ngModel)]="phoneNumber" name="phoneNumber" required />
    </div>
    <div class="form-group">
      <label>Giới tính</label>
      <select [(ngModel)]="gender" name="gender" required>
        <option value="male">Nam</option>
        <option value="female">Nữ</option>
        <option value="other">Khác</option>
      </select>
    </div>
    <div class="form-group">
      <label>Vai trò</label>
      <select [(ngModel)]="roleId" name="roleId" required>
        <option [ngValue]="2">Staff</option>
        <option [ngValue]="5">Expert</option>
      </select>
    </div>
    <div *ngIf="errorMsg" class="error-msg">{{ errorMsg }}</div>
    <div *ngIf="successMsg" class="success-msg">{{ successMsg }}</div>
    <button type="submit">Tạo tài khoản</button>
  </form>
</div>
