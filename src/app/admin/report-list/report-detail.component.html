<div class="admin-report-detail-layout">
  <app-admin-top-navigator></app-admin-top-navigator>
  <div class="admin-report-detail-main">
    <app-admin-sidebar></app-admin-sidebar>
    <div class="admin-report-detail-content">
      <div class="admin-report-detail-container" *ngIf="report">
        <div class="detail-header">
          <button class="back-btn" (click)="goBack()">
            ← Quay lại danh sách
          </button>
          <h2>Chi tiết báo cáo #{{ report.id }}</h2>
        </div>
        <div class="message-bar-wrapper">
          <div *ngIf="errorMsg" class="error-bar message-bar">{{ errorMsg }}</div>
          <div *ngIf="successMsg" class="success-bar message-bar">{{ successMsg }}</div>
        </div>
        <div class="report-info-section">
          <div class="info-row">
            <label>Tiêu đề:</label>
            <span>{{ report.title }}</span>
          </div>
          <div class="info-row">
            <label>Người báo cáo:</label>
            <span>{{ report.reporterName }}</span>
          </div>
          <div class="info-row">
            <label>Ngày tạo:</label>
            <span>{{ report.createdAt | date:'dd/MM/yyyy HH:mm' }}</span>
          </div>
          <div class="info-row">
            <label>Trạng thái:</label>
            <span class="status-badge" [ngClass]="getStatusClass(report.status)">
              {{ getStatusText(report.status) }}
            </span>
          </div>
          <div class="info-row">
            <label>Người gửi báo cáo (username):</label>
            <span>{{ report.createdBy }}</span>
          </div>
          <div class="info-row">
            <label>Mô tả báo cáo:</label>
            <span>{{ report.description }}</span>
          </div>
          <div class="info-row">
            <label>Nội dung bị báo cáo:</label>
            <span>{{ report.reportedContent }}</span>
          </div>
        </div>
        <div class="action-buttons" *ngIf="report.status === 'pending'">
          <button class="approve-btn" (click)="approveReport()" [disabled]="processing">
            ✅ Chấp thuận
          </button>
          <button class="reject-btn" (click)="rejectReport()" [disabled]="processing">
            ❌ Từ chối
          </button>
        </div>
        <div *ngIf="processing" class="loading-bar">Đang xử lý...</div>
      </div>
      <div *ngIf="loading" class="loading-bar">Đang tải...</div>
      <div *ngIf="errorMsg && !report" class="error-bar">{{ errorMsg }}</div>
    </div>
  </div>
  <app-admin-footer></app-admin-footer>
</div> 