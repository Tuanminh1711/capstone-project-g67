<app-top-navigator></app-top-navigator>

<div class="articles-list-page">
  <div class="page-header">
    <h1>BÃ€I VIáº¾T KIáº¾N THá»¨C</h1>
    <p>KhÃ¡m phÃ¡ nhá»¯ng bÃ i viáº¿t há»¯u Ã­ch vá» chÄƒm sÃ³c cÃ¢y trá»“ng tá»« cÃ¡c chuyÃªn gia</p>
  </div>

  <div *ngIf="isLoading" class="loading">
    <div class="loading-spinner"></div>
    <p>Äang táº£i bÃ i viáº¿t...</p>
  </div>

  <div *ngIf="error" class="error">
    <span class="error-icon">âš ï¸</span>
    {{ error }}
  </div>

  <div *ngIf="!isLoading && !error" class="articles-grid">
    <div *ngFor="let article of articles" class="article-card" [routerLink]="['/user/articles', article.id]">
      <div class="article-image">
        <img 
          [src]="article.imageUrl" 
          [alt]="article.title"
          (error)="onImageError($event)"
          class="article-img" />
      </div>
      <div class="article-content">
        <div class="article-category">{{ article.categoryName }}</div>
        <h3 class="article-title">{{ article.title }}</h3>
        <div class="article-meta">
          <span class="article-date">{{ article.createdAt | date:'dd/MM/yyyy' }}</span>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!isLoading && !error && totalPages > 1" class="pagination">
    <button 
      class="page-btn" 
      [disabled]="currentPage === 0"
      (click)="onPageChange(currentPage - 1)">
      â† TrÆ°á»›c
    </button>
    
    <div class="page-numbers">
      <button 
        *ngFor="let page of getPageNumbers()" 
        class="page-btn" 
        [class.active]="page === currentPage"
        (click)="onPageChange(page)">
        {{ page + 1 }}
      </button>
    </div>
    
    <button 
      class="page-btn" 
      [disabled]="currentPage === totalPages - 1"
      (click)="onPageChange(currentPage + 1)">
      Sau â†’
    </button>
  </div>

  <div *ngIf="!isLoading && !error && articles.length === 0" class="no-articles">
    <span class="no-articles-icon">ğŸ“š</span>
    <p>ChÆ°a cÃ³ bÃ i viáº¿t nÃ o.</p>
  </div>
</div>


