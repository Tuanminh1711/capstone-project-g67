:host ::ng-deep .chat-ai-dialog-panel .mat-dialog-container {
  overflow-x: hidden !important;
}
:host ::ng-deep .no-backdrop {
  background: transparent !important;
}
.chat-ai-fab {
  position: fixed;
  right: 32px;
  bottom: 32px;
  z-index: 1000;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: linear-gradient(135deg, #178a4c, #a8e063);
  color: #fff;
  border: none;
  box-shadow: 0 4px 16px rgba(30, 174, 96, 0.18);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  cursor: pointer;
  transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease;
  user-select: none;
  -webkit-user-select: none;
  touch-action: none;
  will-change: transform, left, top; /* Optimize for animations */
  backface-visibility: hidden; /* Prevent flickering */
  -webkit-backface-visibility: hidden;
  
  &:hover:not(.dragging) {
    background: linear-gradient(135deg, #388e3c, #4a7c35);
    box-shadow: 0 8px 24px rgba(30, 174, 96, 0.28);
    transform: scale(1.05);
  }
  
  &.dragging {
    cursor: grabbing;
    transform: scale(1.1);
    box-shadow: 0 12px 32px rgba(30, 174, 96, 0.4);
    z-index: 1001;
    transition: none; /* Disable all transitions while dragging */
    pointer-events: none; /* Prevent hover effects during drag */
  }
  
  /* Add visual feedback for draggability */
  &:before {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    border-radius: 50%;
    background: rgba(30, 174, 96, 0.1);
    opacity: 0;
    transition: opacity 0.2s ease;
    pointer-events: none;
  }
  
  &:hover:not(.dragging):before {
    opacity: 1;
  }
  
  /* Smooth positioning when not dragging */
  &:not(.dragging) {
    transition: left 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                top 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                background 0.2s ease,
                box-shadow 0.2s ease,
                transform 0.1s ease;
  }
}

:host ::ng-deep .chat-ai-dialog-panel .mat-dialog-container {
  padding: 0 !important;
  border-radius: 18px 18px 18px 0 !important;
  box-shadow: 0 8px 32px rgba(30, 174, 96, 0.18) !important;
  position: fixed !important;
  right: 24px !important;
  bottom: 24px !important;
  margin: 0 !important;
  width: 400px !important;
  height: 70vh !important;
  max-width: 90vw !important;
  max-height: 80vh !important;
  display: flex !important;
  flex-direction: column !important;
  background: transparent !important;
  overflow: visible !important;
}
