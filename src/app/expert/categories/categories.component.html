
<app-expert-layout>
  <div class="categories-page">
    <div class="categories-header">
      <h2><span class="icon">ğŸ—‚ï¸</span> Quáº£n lÃ½ chuyÃªn má»¥c</h2>
      <p class="desc">Táº¡o, chá»‰nh sá»­a, xÃ³a cÃ¡c chuyÃªn má»¥c bÃ i viáº¿t cho chuyÃªn gia.</p>
    </div>
    <div class="categories-card">
      <form [formGroup]="categoryForm" (ngSubmit)="submitCategory()">
        <div class="form-row">
          <label><span class="icon">ğŸ·ï¸</span> TÃªn chuyÃªn má»¥c</label>
          <input formControlName="name" placeholder="Nháº­p tÃªn chuyÃªn má»¥c" />
        </div>
        <div class="form-row">
          <label><span class="icon">ğŸ“</span> MÃ´ táº£</label>
          <textarea formControlName="description" placeholder="MÃ´ táº£ chuyÃªn má»¥c"></textarea>
        </div>
        <div class="form-actions">
          <button type="submit" [disabled]="categoryForm.invalid || isLoading" class="btn-main">
            {{ editMode ? 'Cáº­p nháº­t' : 'Táº¡o má»›i' }}
          </button>
          <button type="button" (click)="resetForm()" *ngIf="editMode" class="btn-cancel">Há»§y</button>
        </div>
      </form>
      <div *ngIf="error" class="error">{{ error }}</div>
      <div *ngIf="isLoading" class="loading">Äang táº£i...</div>
    </div>
    <div class="categories-list-card" *ngIf="categories.length">
      <table class="categories-table">
        <thead>
          <tr>
            <th><span class="icon">ğŸ·ï¸</span> TÃªn chuyÃªn má»¥c</th>
            <th><span class="icon">ğŸ“</span> MÃ´ táº£</th>
            <th>HÃ nh Ä‘á»™ng</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let category of categories">
            <td>{{ category.name }}</td>
            <td>{{ category.description }}</td>
            <td>
              <button (click)="editCategory(category)" class="btn-edit">Sá»­a</button>
              <button (click)="deleteCategory(category.id)" class="btn-delete">XÃ³a</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="pagination" *ngIf="totalPages > 1">
        <button (click)="changePage(pageNo - 1)" [disabled]="pageNo === 0">TrÆ°á»›c</button>
        <span>Trang {{ pageNo + 1 }} / {{ totalPages }}</span>
        <button (click)="changePage(pageNo + 1)" [disabled]="pageNo + 1 >= totalPages">Sau</button>
      </div>
    </div>
    <div *ngIf="!categories.length && !isLoading" class="empty-list">
      <span class="icon">ğŸ“­</span> ChÆ°a cÃ³ chuyÃªn má»¥c nÃ o.
    </div>
  </div>
</app-expert-layout>
