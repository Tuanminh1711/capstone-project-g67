<div class="disease-detail-container">
  <!-- Header Card -->
  <mat-card class="header-card">
    <mat-card-header>
      <mat-card-title>Chi ti·∫øt b·ªánh c√¢y</mat-card-title>
      <mat-card-subtitle>Xem th√¥ng tin chi ti·∫øt v·ªÅ b·ªánh c√¢y</mat-card-subtitle>
    </mat-card-header>
    <mat-card-actions>
      <button mat-stroked-button color="primary" [routerLink]="['/expert/plant-manager/diseases/list']">
        <mat-icon>arrow_back</mat-icon>
        Quay l·∫°i
      </button>
    </mat-card-actions>
  </mat-card>

  <!-- Loading Indicator -->
  <div class="loading-container" *ngIf="loading">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <!-- Content Section -->
  <mat-card class="content-card" *ngIf="!loading && disease">
    <mat-card-content>
      <div class="disease-header">
        <div class="disease-name">
          <div [class]="'disease-icon ' + disease.category.toLowerCase()">
            <mat-icon>{{getCategoryIcon(disease.category)}}</mat-icon>
          </div>
          <div class="name-details">
            <h2>{{disease.diseaseName}}</h2>
            <p class="scientific-name" *ngIf="disease.scientificName">{{disease.scientificName}}</p>
          </div>
        </div>
        <span [class]="'severity-badge ' + disease.severity.toLowerCase()">
          {{getSeverityLabel(disease.severity)}}
        </span>
      </div>

      <div class="info-section" *ngIf="disease.description">
        <h3>M√¥ t·∫£</h3>
        <p>{{disease.description}}</p>
      </div>

      <div class="info-section" *ngIf="!disease.description && disease.symptoms">
        <h3>M√¥ t·∫£</h3>
        <p>{{disease.symptoms}}</p>
      </div>

      <div class="info-section">
        <h3>Tri·ªáu ch·ª©ng</h3>
        <p>{{disease.symptoms}}</p>
      </div>

      <div class="info-section" *ngIf="disease.treatment">
        <h3>Ph∆∞∆°ng ph√°p ƒëi·ªÅu tr·ªã</h3>
        <p>{{disease.treatment}}</p>
      </div>

      <div class="info-section">
        <h3>Nguy√™n nh√¢n</h3>
        <p>{{disease.causes}}</p>
      </div>

      <div class="info-section" *ngIf="disease.preventionMethods || disease.prevention">
        <h3>Bi·ªán ph√°p ph√≤ng ng·ª´a</h3>
        <p>{{disease.preventionMethods || disease.prevention}}</p>
      </div>

      <div class="info-section" *ngIf="disease.plants && disease.plants.length > 0">
        <h3>C√¢y tr·ªìng b·ªã ·∫£nh h∆∞·ªüng</h3>
        <div class="plants-list">
          <div class="plant-item" *ngFor="let plant of disease.plants">
            <span class="plant-icon">üå±</span>
            <span>{{plant.name || plant.plantName || 'T√™n c√¢y kh√¥ng c√≥'}}</span>
            <span class="scientific-name" *ngIf="plant.scientificName">({{plant.scientificName}})</span>
          </div>
        </div>
      </div>

      <div class="info-section" *ngIf="disease.affectedPlantTypes">
        <h3>Lo·∫°i c√¢y b·ªã ·∫£nh h∆∞·ªüng</h3>
        <p>{{disease.affectedPlantTypes}}</p>
      </div>

      <div class="info-section" *ngIf="disease.images && disease.images.length > 0">
        <h3>H√¨nh ·∫£nh</h3>
        <div class="images-grid">
          <img *ngFor="let image of disease.images" [src]="image" [alt]="disease.diseaseName">
        </div>
      </div>

      <div class="info-section" *ngIf="disease.imageUrl && !disease.images">
        <h3>H√¨nh ·∫£nh</h3>
        <div class="images-grid">
          <img [src]="disease.imageUrl" [alt]="disease.diseaseName">
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
