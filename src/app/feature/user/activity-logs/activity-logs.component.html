<app-top-navigator></app-top-navigator>
<div class="activity-logs-page">
  <h2>Nhật ký hoạt động</h2>
  @if (loading) {
    <div class="loading">Đang tải...</div>
  }
  @if (error) {
    <div class="error">{{ error }}</div>
  }
  @if (!loading && !error) {
    <div class="logs-table-wrapper">
      <table class="logs-table">
        <thead>
          <tr>
            <th>Thời gian</th>
            <th>Mô tả chi tiết</th>
          </tr>
        </thead>
        <tbody>
          @for (log of logs; track log) {
            <tr>
              <td class="log-time">{{ log.timestamp | date:'dd/MM/yyyy HH:mm' }}</td>
              <td class="log-detail">{{ translateDescription(log) }}</td>
            </tr>
          }
          @if (logs.length === 0) {
            <tr><td colspan="2" class="empty">Không có nhật ký nào.</td></tr>
          }
        </tbody>
      </table>
      
      @if (totalPages > 1) {
        <div class="pagination">
          <button 
            type="button" 
            (click)="goToPage(0)" 
            [disabled]="currentPage === 0"
            class="pagination-btn first">
            ≪ Đầu
          </button>
          
          <button 
            type="button" 
            (click)="previousPage()" 
            [disabled]="currentPage === 0"
            class="pagination-btn">
            ‹ Trước
          </button>
          
          <span class="pagination-info">
            Trang {{ currentPage + 1 }} / {{ totalPages }} 
            ({{ totalElements }} bản ghi)
          </span>
          
          <button 
            type="button" 
            (click)="nextPage()" 
            [disabled]="currentPage >= totalPages - 1"
            class="pagination-btn">
            Sau ›
          </button>
          
          <button 
            type="button" 
            (click)="goToPage(totalPages - 1)" 
            [disabled]="currentPage >= totalPages - 1"
            class="pagination-btn last">
            Cuối ≫
          </button>
        </div>
      }
    </div>
  }
</div>
