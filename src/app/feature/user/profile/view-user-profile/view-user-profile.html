<!-- View User Profile - Similar to Edit Profile -->
<app-top-navigator></app-top-navigator>
<div class="edit-profile-page">
  <!-- Loading Indicator -->
  @if (loading) {
    <div class="loading-section">
      <div class="spinner"></div>
      <p class="loading-text">ƒêang t·∫£i th√¥ng tin h·ªì s∆°...</p>
    </div>
  }

  <!-- Profile Content -->
  @if (!loading) {
    <div class="edit-profile-container">
      <!-- Page Header -->
      <div class="page-header">
        <h1>H·ªí S∆† NG∆Ø·ªúI D√ôNG</h1>
      </div>

      <!-- Profile Content -->
      <div class="edit-profile-content">
        <!-- Avatar Section -->
        <div class="avatar-section">
          <div class="avatar-card">
            <h3>·∫¢nh ƒë·∫°i di·ªán</h3>
            <div class="avatar-upload-area">
              <div class="avatar-preview">
                <ng-container *ngIf="userProfile; else avatarPlaceholder">
                  @if (userProfile.avatar) {
                    <img [src]="userProfile.avatar" alt="Avatar" />
                  } @else {
                    <div class="avatar-initial">
                      {{ userProfile.fullName ? userProfile.fullName.charAt(0).toUpperCase() : 'üë§' }}
                    </div>
                  }
                </ng-container>
                <ng-template #avatarPlaceholder>
                  <div class="avatar-skeleton"></div>
                </ng-template>
              </div>
              <div class="profile-badges">
                @if (userRole === 'VIP') {
                  <span class="badge vip">üåü Th√†nh vi√™n VIP</span>
                } @else if (userRole === 'MEMBER') {
                  <span class="badge member">üë§ Th√†nh vi√™n</span>
                } @else {
                  <span class="badge member">üë§ Ng∆∞·ªùi d√πng</span>
                }
              </div>
            </div>
          </div>
        </div>

        <!-- Form Section -->
        <div class="form-section">
          <div class="form-card">
            <h3>Th√¥ng tin c√° nh√¢n</h3>
            <div class="form-grid">
              <div class="form-field">
                <label>H·ªç v√† t√™n</label>
                <input type="text" [value]="userProfile?.fullName || 'ƒêang t·∫£i...'" readonly>
              </div>
              <div class="form-field">
                <label>Email</label>
                <input type="email" [value]="userProfile?.email || 'ƒêang t·∫£i...'" readonly>
              </div>
              <div class="form-field">
                <label>S·ªë ƒëi·ªán tho·∫°i</label>
                <input type="tel" [value]="userProfile?.phoneNumber || 'Ch∆∞a c·∫≠p nh·∫≠t'" readonly>
              </div>
              <div class="form-field">
                <label>Gi·ªõi t√≠nh</label>
                <input type="text" [value]="getGenderText(userProfile?.gender || undefined)" readonly>
              </div>
              <div class="form-field" style="grid-column: 1 / -1;">
                <label>M√¥i tr∆∞·ªùng s·ªëng</label>
                <input type="text" [value]="userProfile?.livingEnvironment || 'Ch∆∞a c·∫≠p nh·∫≠t'" readonly>
              </div>
            </div>
            <div class="form-actions">
              <button class="action-btn primary" routerLink="/profile/edit">
                ‚úèÔ∏è Ch·ªânh s·ª≠a h·ªì s∆°
              </button>
              <button class="action-btn secondary" routerLink="/profile/change-password">
                üîê ƒê·ªïi m·∫≠t kh·∫©u
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  }
</div>
