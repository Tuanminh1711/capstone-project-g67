<!-- Top Navigator HTML -->
<nav class="top-nav">
  <!-- Mobile menu toggle button -->
  <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
    <span class="material-icons">{{ showMobileMenu ? 'close' : 'menu' }}</span>
  </button>

  <div class="logo">
    <img src="assets/image/logo-remove.png" alt="PlantCare Logo" class="logo-img" />
    <span>PLANTCARE</span>
  </div>
  <div class="nav-links-actions">
    <div class="nav-links" [class.mobile-active]="showMobileMenu">
      <a class="nav-link" routerLink="/home" (click)="closeMobileMenu()">Trang ch·ªß</a>
      <a class="nav-link" routerLink="/plant-info" (click)="closeMobileMenu()">T√¨m ki·∫øm c√¢y c·∫£nh</a>
      <a class="nav-link" routerLink="/user/my-garden" (click)="closeMobileMenu()">Khu v∆∞·ªùn c·ªßa t√¥i</a>
      <a class="nav-link" routerLink="/care-with-experts" (click)="closeMobileMenu()">ChƒÉm s√≥c c√πng chuy√™n gia</a>
      <!-- ·∫®n n√∫t Chat VIP ƒë·ªÉ tr√°nh tr√πng l·∫∑p v·ªõi Chat tr·ª±c tuy·∫øn -->
      <!-- @if (isVipUser) {
        <a class="nav-link vip-chat-link" routerLink="/user/vip-chat" (click)="closeMobileMenu()">üí¨ Chat VIP</a>
      } -->
      <a class="nav-link" routerLink="/about-us" (click)="closeMobileMenu()">V·ªÅ ch√∫ng t√¥i</a>
    </div>
    <div class="nav-actions">
      @if (isLoggedIn) {
        <span class="nav-icon notification">
          <span class="material-icons">notifications</span>
        </span>
        <span class="nav-icon support-dropdown" tabindex="0" [class.show-dropdown]="isSupportDropdownOpen">
          <span class="fa fa-headset" (click)="toggleSupportDropdown($event)"></span>
          <div class="support-dropdown-menu" (click)="$event.stopPropagation()">
            <a class="dropdown-item" (click)="openSendTicketDialog(); closeSupportDropdown()">
              <i class="fa fa-plus-circle"></i>
              <span>G·ª≠i th∆∞ h·ªó tr·ª£</span>
            </a>
            <a class="dropdown-item" routerLink="/user/my-tickets" (click)="closeSupportDropdown()">
              <i class="fa fa-list-ul"></i>
              <span>Xem th∆∞ ƒë√£ g·ª≠i</span>
            </a>
          </div>
        </span>
      }
      <span class="nav-icon user" tabindex="0" [class.show-dropdown]="showUserMenu">
        <span class="material-icons" (click)="toggleUserMenu($event)">account_circle</span>
        @if (showUserMenu) {
          <div class="user-dropdown" (click)="$event.stopPropagation()">
            @if (isLoggedIn) {
              <a class="dropdown-item" routerLink="/view-user-profile" (click)="closeUserMenu()">H·ªì s∆° c·ªßa t√¥i</a>
              <div class="dropdown-item" (click)="logout(); closeUserMenu()">ƒêƒÉng xu·∫•t</div>
            } @else {
              <div class="dropdown-item" (click)="openLogin(); closeUserMenu()">ƒêƒÉng nh·∫≠p</div>
              <div class="dropdown-item" (click)="openRegister(); closeUserMenu()">ƒêƒÉng k√Ω</div>
            }
          </div>
        }
      </span>
    </div>
  </div>
</nav>
